
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sales Bot - Sistema de Vendas Inteligente</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="Sistema completo de vendas com bot inteligente e estratÃ©gias de marketing">
    <meta name="theme-color" content="#10b981">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Sales Bot">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhcl8xXzEpIi8+CjxwYXRoIGQ9Ik05NiA0OEM3My45IDQ4IDU2IDY1LjkgNTYgODhWMTA0QzU2IDEyNi4xIDczLjkgMTQ0IDk2IDE0NEMxMTguMSAxNDQgMTM2IDEyNi4xIDEzNiAxMDRWODhDMTM2IDY1LjkgMTE4LjEgNDggOTYgNDhaIiBmaWxsPSJ3aGl0ZSIvPgo8Y2lyY2xlIGN4PSI4MCIgY3k9IjgwIiByPSI0IiBmaWxsPSIjMTBiOTgxIi8+CjxjaXJjbGUgY3g9IjExMiIgY3k9IjgwIiByPSI0IiBmaWxsPSIjMTBiOTgxIi8+CjxwYXRoIGQ9Ik04OCA5NkgxMDRDMTA2LjIgOTYgMTA4IDk3LjggMTA4IDEwMFYxMDRDMTA4IDEwNi4yIDEwNi4yIDEwOCAxMDQgMTA4SDg4Qzg1LjggMTA4IDg0IDEwNi4yIDg0IDEwNFYxMDBDODQgOTcuOCA4NS44IDk2IDg4IDk2WiIgZmlsbD0iIzEwYjk4MSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDBfbGluZWFyXzFfMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMTkyIiB5Mj0iMTkyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiMxMGI5ODEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDU5NjY5Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+">

    <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>ğŸ’° Sales Bot</h1>
                <p class="header-subtitle">Sistema de Vendas Inteligente</p>
            </div>
            <div class="status" id="botStatus">
                <span class="status-indicator offline"></span>
                <span>Offline</span>
            </div>
        </header>

        <div class="panel-grid">
            <!-- Sales Dashboard -->
            <section class="panel-section dashboard-section full-width">
                <h2>ğŸ“Š Dashboard de Vendas</h2>
                <div class="sales-metrics">
                    <div class="metric-card revenue">
                        <div class="metric-icon">ğŸ’°</div>
                        <div class="metric-content">
                            <span class="metric-number" id="totalRevenue">R$ 0,00</span>
                            <span class="metric-label">Receita Total</span>
                        </div>
                    </div>
                    <div class="metric-card conversions">
                        <div class="metric-icon">ğŸ¯</div>
                        <div class="metric-content">
                            <span class="metric-number" id="conversions">0</span>
                            <span class="metric-label">ConversÃµes</span>
                        </div>
                    </div>
                    <div class="metric-card leads">
                        <div class="metric-icon">ğŸ‘¥</div>
                        <div class="metric-content">
                            <span class="metric-number" id="totalLeads">0</span>
                            <span class="metric-label">Leads Captados</span>
                        </div>
                    </div>
                    <div class="metric-card conversion-rate">
                        <div class="metric-icon">ğŸ“ˆ</div>
                        <div class="metric-content">
                            <span class="metric-number" id="conversionRate">0%</span>
                            <span class="metric-label">Taxa ConversÃ£o</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bot Control Section -->
            <section class="panel-section">
                <h2>ğŸ¤– Controle do Bot</h2>
                <div class="control-buttons">
                    <button id="startBot" class="btn btn-success">ğŸš€ Iniciar Bot</button>
                    <button id="stopBot" class="btn btn-danger">â¹ï¸ Parar Bot</button>
                    <button id="restartBot" class="btn btn-warning">ğŸ”„ Reiniciar</button>
                </div>
                <div class="bot-info">
                    <p><strong>ğŸ‘¥ Leads Ativos:</strong> <span id="activeLeads">0</span></p>
                    <p><strong>ğŸ’¬ Conversas Hoje:</strong> <span id="todayConversations">0</span></p>
                </div>
            </section>

            <!-- Sales Funnel Management -->
            <section class="panel-section full-width">
                <h2>ğŸ”„ Funil de Vendas</h2>
                <div class="funnel-management">
                    <div class="funnel-stages">
                        <div class="stage-card awareness">
                            <h3>ğŸ¯ ConsciÃªncia</h3>
                            <div class="stage-count" id="awarenessCount">0</div>
                            <p>UsuÃ¡rios descobrindo seu produto</p>
                        </div>
                        <div class="stage-card interest">
                            <h3>ğŸ¤” Interesse</h3>
                            <div class="stage-count" id="interestCount">0</div>
                            <p>Demonstraram interesse</p>
                        </div>
                        <div class="stage-card consideration">
                            <h3>ğŸ’­ ConsideraÃ§Ã£o</h3>
                            <div class="stage-count" id="considerationCount">0</div>
                            <p>Avaliando a compra</p>
                        </div>
                        <div class="stage-card purchase">
                            <h3>ğŸ’° Compra</h3>
                            <div class="stage-count" id="purchaseCount">0</div>
                            <p>Clientes convertidos</p>
                        </div>
                    </div>
                    <div class="funnel-controls">
                        <button id="createFunnelStep" class="btn btn-primary">â• Adicionar Etapa</button>
                        <button id="optimizeFunnel" class="btn btn-success">âš¡ Otimizar Funil</button>
                        <button id="analyzeFunnel" class="btn btn-secondary">ğŸ“Š Analisar Performance</button>
                    </div>
                </div>
            </section>

            <!-- Marketing Strategies -->
            <section class="panel-section full-width">
                <h2>ğŸ¯ EstratÃ©gias de Marketing</h2>
                <div class="marketing-strategies">
                    <div class="strategy-tabs">
                        <button class="strategy-tab active" data-strategy="welcome">ğŸ‰ Boas-vindas</button>
                        <button class="strategy-tab" data-strategy="nurturing">ğŸŒ± NutriÃ§Ã£o</button>
                        <button class="strategy-tab" data-strategy="closing">ğŸ’¸ Fechamento</button>
                        <button class="strategy-tab" data-strategy="retention">â¤ï¸ RetenÃ§Ã£o</button>
                        <button class="strategy-tab" data-strategy="upsell">â¬†ï¸ Upsell</button>
                    </div>
                    
                    <div id="welcomeStrategy" class="strategy-content active">
                        <h3>ğŸ‰ EstratÃ©gia de Boas-vindas</h3>
                        <div class="strategy-options">
                            <label>
                                <input type="checkbox" id="welcomeGift" checked> 
                                ğŸ Oferecer brinde de boas-vindas
                            </label>
                            <label>
                                <input type="checkbox" id="welcomeDiscount" checked> 
                                ğŸ’ Desconto exclusivo para novos usuÃ¡rios
                            </label>
                            <label>
                                <input type="checkbox" id="welcomeSurvey"> 
                                ğŸ“‹ Pesquisa de perfil do cliente
                            </label>
                        </div>
                        <textarea id="welcomeMessage" placeholder="Mensagem de boas-vindas personalizada...">ğŸ‰ OlÃ¡! Bem-vindo(a) ao nosso bot de vendas! 

Como presente de boas-vindas, vocÃª ganhou 20% OFF na sua primeira compra! ğŸ

Use o cÃ³digo: BEMVINDO20

O que posso ajudar vocÃª hoje?</textarea>
                        <button id="saveWelcomeStrategy" class="btn btn-primary">ğŸ’¾ Salvar EstratÃ©gia</button>
                    </div>

                    <div id="nurturingStrategy" class="strategy-content">
                        <h3>ğŸŒ± EstratÃ©gia de NutriÃ§Ã£o</h3>
                        <div class="nurturing-sequence">
                            <div class="sequence-item">
                                <span class="sequence-day">Dia 1:</span>
                                <span class="sequence-action">Envio de conteÃºdo educativo</span>
                            </div>
                            <div class="sequence-item">
                                <span class="sequence-day">Dia 3:</span>
                                <span class="sequence-action">Case de sucesso de cliente</span>
                            </div>
                            <div class="sequence-item">
                                <span class="sequence-day">Dia 7:</span>
                                <span class="sequence-action">Oferta especial personalizada</span>
                            </div>
                        </div>
                        <button id="editNurturingSequence" class="btn btn-secondary">âœï¸ Editar SequÃªncia</button>
                    </div>

                    <div id="closingStrategy" class="strategy-content">
                        <h3>ğŸ’¸ EstratÃ©gia de Fechamento</h3>
                        <div class="closing-techniques">
                            <label>
                                <input type="checkbox" id="scarcityTechnique" checked> 
                                â° TÃ©cnica de escassez (oferta limitada)
                            </label>
                            <label>
                                <input type="checkbox" id="socialProof" checked> 
                                ğŸ‘¥ Prova social (depoimentos)
                            </label>
                            <label>
                                <input type="checkbox" id="urgencyTechnique" checked> 
                                ğŸ”¥ UrgÃªncia (desconto por tempo limitado)
                            </label>
                        </div>
                        <div class="closing-config">
                            <label>Tempo de oferta especial (horas):</label>
                            <input type="number" id="urgencyTimer" value="24" min="1" max="168">
                            <label>Desconto de urgÃªncia (%):</label>
                            <input type="number" id="urgencyDiscount" value="15" min="5" max="50">
                        </div>
                    </div>

                    <div id="retentionStrategy" class="strategy-content">
                        <h3>â¤ï¸ EstratÃ©gia de RetenÃ§Ã£o</h3>
                        <div class="retention-features">
                            <label>
                                <input type="checkbox" id="birthdayDiscount" checked> 
                                ğŸ‚ Desconto de aniversÃ¡rio
                            </label>
                            <label>
                                <input type="checkbox" id="loyaltyProgram" checked> 
                                â­ Programa de fidelidade
                            </label>
                            <label>
                                <input type="checkbox" id="winBackCampaign"> 
                                ğŸ“ Campanha de reconquista
                            </label>
                        </div>
                    </div>

                    <div id="upsellStrategy" class="strategy-content">
                        <h3>â¬†ï¸ EstratÃ©gia de Upsell</h3>
                        <div class="upsell-config">
                            <label>Produto complementar sugerido:</label>
                            <input type="text" id="upsellProduct" placeholder="Ex: Produto Premium">
                            <label>Desconto para upgrade (%):</label>
                            <input type="number" id="upsellDiscount" value="10" min="5" max="30">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Lead Management -->
            <section class="panel-section full-width">
                <h2>ğŸ‘¥ GestÃ£o de Leads</h2>
                <div class="lead-management">
                    <div class="lead-filters">
                        <select id="leadStatus">
                            <option value="all">Todos os Leads</option>
                            <option value="new">Novos</option>
                            <option value="contacted">Contatados</option>
                            <option value="qualified">Qualificados</option>
                            <option value="converted">Convertidos</option>
                        </select>
                        <select id="leadSource">
                            <option value="all">Todas as Fontes</option>
                            <option value="telegram">Telegram</option>
                            <option value="whatsapp">WhatsApp</option>
                            <option value="website">Website</option>
                        </select>
                        <button id="exportLeads" class="btn btn-secondary">ğŸ“¤ Exportar</button>
                    </div>
                    <div id="leadsList" class="leads-list">
                        <!-- Leads serÃ£o carregados aqui -->
                    </div>
                </div>
            </section>

            <!-- Product Catalog -->
            <section class="panel-section full-width">
                <h2>ğŸ›ï¸ CatÃ¡logo de Produtos</h2>
                <div class="product-management">
                    <div class="product-creator">
                        <h3>â• Adicionar Produto</h3>
                        <div class="product-form">
                            <div class="form-group">
                                <label>Nome do Produto:</label>
                                <input type="text" id="productName" placeholder="Ex: Curso Online de Marketing">
                            </div>
                            <div class="form-group">
                                <label>DescriÃ§Ã£o:</label>
                                <textarea id="productDescription" placeholder="DescriÃ§Ã£o completa do produto..."></textarea>
                            </div>
                            <div class="form-group">
                                <label>PreÃ§o (R$):</label>
                                <input type="number" id="productPrice" placeholder="0.00" step="0.01" min="0">
                            </div>
                            <div class="form-group">
                                <label>Categoria:</label>
                                <select id="productCategory">
                                    <option value="digital">Produto Digital</option>
                                    <option value="physical">Produto FÃ­sico</option>
                                    <option value="service">ServiÃ§o</option>
                                    <option value="course">Curso</option>
                                    <option value="consultation">Consultoria</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ComissÃ£o (%):</label>
                                <input type="number" id="productCommission" value="10" min="0" max="100">
                            </div>
                            <button id="addProduct" class="btn btn-primary">â• Adicionar Produto</button>
                        </div>
                    </div>
                    <div id="productsList" class="products-list">
                        <!-- Produtos serÃ£o carregados aqui -->
                    </div>
                </div>
            </section>

            <!-- Automated Campaigns -->
            <section class="panel-section">
                <h2>ğŸ“¢ Campanhas Automatizadas</h2>
                <div class="campaign-management">
                    <div class="campaign-templates">
                        <h3>ğŸ“‹ Templates PrÃ©-configurados</h3>
                        <div class="template-list">
                            <div class="template-item">
                                <span class="template-name">ğŸ”¥ Flash Sale</span>
                                <button class="btn btn-sm btn-primary" onclick="salesBot.loadCampaignTemplate('flash-sale')">Usar</button>
                            </div>
                            <div class="template-item">
                                <span class="template-name">ğŸ¯ Remarketing</span>
                                <button class="btn btn-sm btn-primary" onclick="salesBot.loadCampaignTemplate('remarketing')">Usar</button>
                            </div>
                            <div class="template-item">
                                <span class="template-name">ğŸ’ Black Friday</span>
                                <button class="btn btn-sm btn-primary" onclick="salesBot.loadCampaignTemplate('black-friday')">Usar</button>
                            </div>
                        </div>
                    </div>
                    <div class="campaign-creator">
                        <h3>ğŸ¨ Criar Campanha</h3>
                        <input type="text" id="campaignName" placeholder="Nome da campanha">
                        <textarea id="campaignMessage" placeholder="Mensagem da campanha..."></textarea>
                        <select id="campaignTarget">
                            <option value="all">Todos os leads</option>
                            <option value="new">Leads novos</option>
                            <option value="inactive">Leads inativos</option>
                            <option value="customers">Clientes ativos</option>
                        </select>
                        <button id="createCampaign" class="btn btn-success">ğŸš€ LanÃ§ar Campanha</button>
                    </div>
                </div>
            </section>

            <!-- A/B Testing -->
            <section class="panel-section">
                <h2>ğŸ§ª Testes A/B</h2>
                <div class="ab-testing">
                    <div class="test-creator">
                        <h3>â• Novo Teste</h3>
                        <label>Nome do Teste:</label>
                        <input type="text" id="testName" placeholder="Ex: Mensagem de Boas-vindas">
                        
                        <label>VersÃ£o A:</label>
                        <textarea id="versionA" placeholder="Primeira versÃ£o da mensagem..."></textarea>
                        
                        <label>VersÃ£o B:</label>
                        <textarea id="versionB" placeholder="Segunda versÃ£o da mensagem..."></textarea>
                        
                        <label>MÃ©trica de Sucesso:</label>
                        <select id="successMetric">
                            <option value="click_rate">Taxa de Clique</option>
                            <option value="conversion_rate">Taxa de ConversÃ£o</option>
                            <option value="response_rate">Taxa de Resposta</option>
                        </select>
                        
                        <button id="startABTest" class="btn btn-primary">ğŸ§ª Iniciar Teste</button>
                    </div>
                    <div id="activeTests" class="active-tests">
                        <!-- Testes ativos aparecerÃ£o aqui -->
                    </div>
                </div>
            </section>

            <!-- Analytics & Reports -->
            <section class="panel-section full-width">
                <h2>ğŸ“Š Analytics e RelatÃ³rios</h2>
                <div class="analytics-section">
                    <div class="chart-controls">
                        <select id="chartPeriod">
                            <option value="7">Ãšltimos 7 dias</option>
                            <option value="30">Ãšltimos 30 dias</option>
                            <option value="90">Ãšltimos 90 dias</option>
                        </select>
                        <button id="generateReport" class="btn btn-secondary">ğŸ“„ Gerar RelatÃ³rio</button>
                    </div>
                    <div class="charts-container">
                        <div class="chart-item">
                            <h3>ğŸ’° Receita por Dia</h3>
                            <canvas id="revenueChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-item">
                            <h3>ğŸ”„ Funil de ConversÃ£o</h3>
                            <canvas id="funnelChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-item">
                            <h3>ğŸ“ˆ Performance de Campanhas</h3>
                            <canvas id="campaignChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Support -->
            <section class="panel-section">
                <h2>ğŸ§ Suporte ao Cliente</h2>
                <div class="support-management">
                    <div class="support-metrics">
                        <div class="support-stat">
                            <span class="support-number" id="openTickets">0</span>
                            <span class="support-label">Tickets Abertos</span>
                        </div>
                        <div class="support-stat">
                            <span class="support-number" id="avgResponseTime">0h</span>
                            <span class="support-label">Tempo MÃ©dio</span>
                        </div>
                    </div>
                    <div class="support-controls">
                        <button id="viewTickets" class="btn btn-primary">ğŸ« Ver Tickets</button>
                        <button id="supportSettings" class="btn btn-secondary">âš™ï¸ ConfiguraÃ§Ãµes</button>
                    </div>
                </div>
            </section>

            <!-- Integration Settings -->
            <section class="panel-section">
                <h2>ğŸ”— IntegraÃ§Ãµes</h2>
                <div class="integrations">
                    <div class="integration-item">
                        <span class="integration-name">ğŸ’³ Gateway de Pagamento</span>
                        <div class="integration-status disconnected" id="paymentGateway">Desconectado</div>
                        <button class="btn btn-sm btn-primary" onclick="salesBot.connectIntegration('payment')">Conectar</button>
                    </div>
                    <div class="integration-item">
                        <span class="integration-name">ğŸ“§ Email Marketing</span>
                        <div class="integration-status disconnected" id="emailMarketing">Desconectado</div>
                        <button class="btn btn-sm btn-primary" onclick="salesBot.connectIntegration('email')">Conectar</button>
                    </div>
                    <div class="integration-item">
                        <span class="integration-name">ğŸ“± WhatsApp Business</span>
                        <div class="integration-status disconnected" id="whatsappBusiness">Desconectado</div>
                        <button class="btn btn-sm btn-primary" onclick="salesBot.connectIntegration('whatsapp')">Conectar</button>
                    </div>
                    <div class="integration-item">
                        <span class="integration-name">ğŸ“Š Google Analytics</span>
                        <div class="integration-status disconnected" id="googleAnalytics">Desconectado</div>
                        <button class="btn btn-sm btn-primary" onclick="salesBot.connectIntegration('analytics')">Conectar</button>
                    </div>
                </div>
            </section>

            <!-- Logs -->
            <section class="panel-section full-width">
                <h2>ğŸ“ Logs do Sistema</h2>
                <div class="logs-container">
                    <div class="log-filters">
                        <select id="logFilter">
                            <option value="all">Todos os logs</option>
                            <option value="sales">Vendas</option>
                            <option value="marketing">Marketing</option>
                            <option value="system">Sistema</option>
                            <option value="error">Erros</option>
                        </select>
                        <button id="exportLogs" class="btn btn-secondary">ğŸ“¤ Exportar</button>
                    </div>
                    <div id="logs" class="logs"></div>
                    <button id="clearLogs" class="btn btn-secondary">ğŸ—‘ï¸ Limpar Logs</button>
                </div>
            </section>
        </div>
    </div>

    <script src="script.js"></script>

    <!-- PWA Installation Script -->
    <script>
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('SW registered: ', registration);
                    })
                    .catch(function(registrationError) {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        const installBtn = document.createElement('button');
        installBtn.textContent = 'ğŸ“± Instalar Sales Bot';
        installBtn.className = 'btn btn-success install-btn';
        installBtn.style.display = 'none';
        installBtn.style.position = 'fixed';
        installBtn.style.bottom = '20px';
        installBtn.style.right = '20px';
        installBtn.style.zIndex = '1000';
        installBtn.style.borderRadius = '50px';
        installBtn.style.padding = '12px 20px';
        installBtn.style.boxShadow = '0 4px 15px rgba(0,0,0,0.3)';
        document.body.appendChild(installBtn);

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBtn.style.display = 'block';
        });

        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                deferredPrompt = null;
                installBtn.style.display = 'none';
            }
        });

        window.addEventListener('appinstalled', () => {
            installBtn.style.display = 'none';
            console.log('Sales Bot PWA foi instalado');
        });

        // Prevent zoom on mobile
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
